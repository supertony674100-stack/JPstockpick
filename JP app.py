import streamlit as st
import pandas as pd
import yfinance as yf

# сЃЄсЃ╝сѓ┐сЃЎсЃ╝сѓ╣сЂФуљєТЃ│сЂ«У▓итђцсѓњУ┐йтіа
CORE_DATABASE = {
    "6857.T": {"тљЇ": "сѓбсЃЅсЃљсЃ│сЃєсѓ╣сЃѕ", "У▓итђц": [9000, 10000], "уЏ«ТеЎ": 15500},
    "3778.T": {"тљЇ": "сЂЋсЂЈсѓЅсѓцсЃ│сѓ┐сЃ╝сЃЇсЃЃсЃѕ", "У▓итђц": [4200, 4800], "уЏ«ТеЎ": 12000},
    "9984.T": {"тљЇ": "сѓйсЃЋсЃѕсЃљсЃ│сѓ»G", "У▓итђц": [8500, 9500], "уЏ«ТеЎ": 16000},
    "6861.T": {"тљЇ": "сѓГсЃ╝сѓесЃ│сѓ╣", "У▓итђц": [65000, 68000], "уЏ«ТеЎ": 85000},
    "6501.T": {"тљЇ": "ТЌЦуФІУБйСйюТЅђ", "У▓итђц": [3800, 4100], "уЏ«ТеЎ": 6000},
    "8035.T": {"тљЇ": "ТЮ▒С║гсѓесЃгсѓ»сЃѕсЃГсЃ│", "У▓итђц": [22000, 25000], "уЏ«ТеЎ": 38000},
    "4180.T": {"тљЇ": "Appier Group", "У▓итђц": [1300, 1500], "уЏ«ТеЎ": 2500},
    "3993.T": {"тљЇ": "PKSHA Tech", "У▓итђц": [3800, 4200], "уЏ«ТеЎ": 6800},
    "6723.T": {"тљЇ": "сЃФсЃЇсѓхсѓ╣", "У▓итђц": [2200, 2400], "уЏ«ТеЎ": 4200},
    "2638.T": {"тљЇ": "GX ТЌЦТюгсЃГсЃюAI", "У▓итђц": [2300, 2500], "уЏ«ТеЎ": 3500},
    "6954.T": {"тљЇ": "сЃЋсѓАсЃісЃЃсѓ»", "У▓итђц": [4000, 4300], "уЏ«ТеЎ": 6200},
    "4063.T": {"тљЇ": "С┐АУХітїќтГд", "У▓итђц": [5800, 6200], "уЏ«ТеЎ": 8800},
    "8058.T": {"тљЇ": "СИЅУЈ▒тЋєС║І", "У▓итђц": [2800, 3100], "уЏ«ТеЎ": 4500}
}

def get_status(current, range_list):
    if current <= range_list[1]:
        return "­ЪћЦ уљєТЃ│сЂ«У▓итђц"
    elif current <= range_list[1] * 1.1:
        return "­ЪЉђ Ті╝сЂЌуЏ«тЙЁсЂА"
    else:
        return "РЈ│ жФўтђцУГдТѕњ"

# УАесЂ«СйюТѕљТЎѓсЂФУ▓итђцсЂесѓ╣сЃєсЃ╝сѓ┐сѓ╣сѓњУАеуц║
rows = []
for ticker, info in CORE_DATABASE.items():
    s_obj = yf.Ticker(ticker)
    curr = s_obj.history(period="1d")['Close'].iloc[-1]
    rows.append({
        "сѓ│сЃ╝сЃЅ": ticker,
        "жіўТЪётљЇ": info["тљЇ"],
        "уЈЙтюетђц": f"{int(curr):,}",
        "уљєТЃ│сЂ«У▓итђц": f"{info['У▓итђц'][0]:,}сђю{info['У▓итђц'][1]:,}",
        "сѓ╣сЃєсЃ╝сѓ┐сѓ╣": get_status(curr, info["У▓итђц"]),
        "2026уЏ«ТеЎ": f"{info['уЏ«ТеЎ']:,}"
    })

st.table(pd.DataFrame(rows))
